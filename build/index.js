module.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=i(1),r=c(s),o=c(i(2));function c(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(t){function e(t){p(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.state={particles:[]},i.canvasRef=r.default.createRef(),i.settings={},i.settings.canvas=a({},e.defaultProps.settings.canvas,i.props.settings.canvas),i.settings.particle=a({},e.defaultProps.settings.particle,i.props.settings.particle),i.settings.speed=a({},e.defaultProps.settings.speed,i.props.settings.speed),i.settings.opacity=a({},e.defaultProps.settings.opacity,i.props.settings.opacity),i.updateFrequency=1e3/60,i.boundCheckSettings(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){console.log("mount"),this.canvas=this.canvasRef.current,this.ctx=this.canvasRef.current.getContext("2d"),this.drawBackground(),this.generateParticles(),this.startAnimation()}},{key:"componentDidUpdate",value:function(t){if(this.props!==t){console.log("update"),this.settings.canvas=a({},this.settings.canvas,this.props.settings.canvas),this.settings.particle=a({},this.settings.particle,this.props.settings.particle),this.settings.speed=a({},this.settings.speed,this.props.settings.speed),this.settings.opacity=a({},this.settings.opacity,this.props.settings.opacity),this.boundCheckSettings();var e=this.settings.particle.particleCount-this.state.particles.length;this.updateParticles(e)}}},{key:"componentWillUnmount",value:function(){console.log("unmount"),this.state.animation&&cancelAnimationFrame(this.state.animation)}},{key:"boundCheckSettings",value:function(){(this.settings.opacity.maxOpacity>1||this.settings.opacity.maxOpacity<0)&&(this.settings.opacity.maxOpacity=1),(this.settings.opacity.minOpacity<0||this.settings.opacity.minOpacity>1)&&(this.settings.opacity.minOpacity=0),this.settings.opacity.opacityTransitionTime<0&&(this.settings.opacity.opacityTransitionTime=1e3)}},{key:"generateParticles",value:function(){for(var t=this.canvas,e=[],i=0;i<this.settings.particle.particleCount;i++)e.push(new l(i,this.settings,t));this.setState({particles:e})}},{key:"updateParticles",value:function(t){0!==t&&(t>0?this.addParticles(t):t<0&&this.removeParticles(Math.abs(t)))}},{key:"addParticles",value:function(t){for(var e=this.canvas,i=[],a=this.state.particles,n=0;n<t;n++)i.push(new l(n+a.length,this.settings,e));var s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(a),i);this.setState({particles:s})}},{key:"removeParticles",value:function(t){var e=this.state.particles;e.splice(-t,t),this.setState({particles:e})}},{key:"startAnimation",value:function(){var t=this,e=window.requestAnimationFrame((function(){return t.draw()}));this.setState({animation:e})}},{key:"draw",value:function(){var t=this;this.drawBackground(),this.drawPaticles(),window.requestAnimationFrame((function(){return t.draw()}))}},{key:"drawBackground",value:function(){var t=this.canvas;this.settings.canvas.canvasFillSpace&&(t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight)}},{key:"drawPaticles",value:function(){this.canvas;var t=this.ctx;for(var e in this.state.particles){var i=this.state.particles[e];i.x+=i.vx,i.y+=i.vy,i.x<0&&(i.x=t.canvas.width),i.x>t.canvas.width&&(i.x=0),i.y<0&&(i.y=t.canvas.height),i.y>t.canvas.height&&(i.y=0);var a=this.settings.opacity;if(a.hasOwnProperty("minOpacity")&&a.hasOwnProperty("maxOpacity")){var n=this.updateFrequency/a.opacityTransitionTime*2;i.opacity>i.lastOpacity?(i.lastOpacity=i.opacity,i.opacity+=n,i.opacity>a.maxOpacity&&(i.opacity=a.maxOpacity,i.lastOpacity=10)):(i.lastOpacity=i.opacity,i.opacity-=n,i.opacity<a.minOpacity&&(i.opacity=a.minOpacity,i.lastOpacity=-10))}t.beginPath(),t.fillStyle=this.settings.particle.color,i.hasOwnProperty("opacity")&&(t.globalAlpha=i.opacity),t.arc(i.x,i.y,30,0,2*Math.PI),t.closePath(),t.fill()}}},{key:"render",value:function(){return r.default.createElement("canvas",{ref:this.canvasRef,style:this.props.style,className:this.props.className,width:this.settings.canvas.width,height:this.settings.canvas.height})}}]),e}(s.Component);u.propTypes={style:o.default.object,className:o.default.string,settings:o.default.shape({canvas:{canvasFillSpace:o.default.bool,width:o.default.number,height:o.default.number},particle:{particleCount:o.default.number,color:o.default.string},speed:{minSpeed:o.default.number,maxSpeed:o.default.number},opacity:{minOpacity:o.default.number,maxOpacity:o.default.number,opacityTransitionTime:o.default.number}})},u.defaultProps={settings:{canvas:{canvasFillSpace:!0,width:200,height:200},particle:{color:"#ff8c69",particleCount:10},speed:{minSpeed:.5,maxSpeed:2},opacity:{opacityTransitionTime:3e3}}},e.default=u;var l=function(){function t(e,i,a){p(this,t),this.id=e,this.x=this.getRandomInRange(0,a.width),this.y=this.getRandomInRange(0,a.height);var n=i.speed;this.vx=this.vy=0,this.vx=Math.random()<.5?this.getRandomInRange(n.minSpeed,n.maxSpeed):this.getRandomInRange(-n.minSpeed,-n.maxSpeed),this.vy=Math.random()<.5?this.getRandomInRange(n.minSpeed,n.maxSpeed):this.getRandomInRange(-n.minSpeed,-n.maxSpeed);var s=i.opacity;return s.hasOwnProperty("minOpacity")&&s.hasOwnProperty("maxOpacity")?(this.opacity=this.getRandomInRange(s.minOpacity,s.maxOpacity),this.lastOpacity=this.opacity+this.getRandomInRange(-1,1)):s.hasOwnProperty("minOpacity")?this.opacity=s.minOpacity:s.hasOwnProperty("maxOpacity")&&(this.opacity=s.maxOpacity),this}return n(t,[{key:"getRandomInRange",value:function(t,e){return Math.random()*(e-t)+t}}]),t}()},function(t,e){t.exports=require("react")},function(t,e,i){t.exports=i(3)()},function(t,e,i){"use strict";var a=i(4);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function t(t,e,i,n,s,r){if(r!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:n};return i.PropTypes=i,i}},function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]);